{
  "issue_id": 11213,
  "issue_url": "https://github.com/checkstyle/checkstyle/issues/11213",
  "title": "False positive: SummaryJavadocCheck",
  "description": "<p dir=\"auto\">From <a href=\"https://github.com/checkstyle/checkstyle/pull/11051/files#r775167621\">comment1</a> and <a href=\"https://github.com/checkstyle/checkstyle/pull/11051/files#r775200466\">comment2</a><br>\nI have read check documentation: <a href=\"https://checkstyle.sourceforge.io/config_javadoc.html#SummaryJavadoc\" rel=\"nofollow\">https://checkstyle.sourceforge.io/config_javadoc.html#SummaryJavadoc</a><br>\nI have downloaded the latest checkstyle from: <a href=\"https://checkstyle.org/cmdline.html#Download_and_Run\" rel=\"nofollow\">https://checkstyle.org/cmdline.html#Download_and_Run</a><br>\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/var/tmp $ javac Test2.java\n\n/var/tmp $ cat config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n    <module name=\"TreeWalker\">\n        <module name=\"SummaryJavadocCheck\"/>\n    </module>\n</module>\n\n/var/tmp $ cat Test2.java\n// unexpected violation below\n/**\n * This is the actual summary.\n * {@summary This is wrong usage}\n */\npublic class Test2 {\n}\n\n// expected violation below\n/**\n * This is summary\n */\nclass foo {\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-9.2.1-all.jar -c config.xml Test2.java\nStarting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:2: Summary of Javadoc is missing an ending period. [SummaryJavadoc]\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\nCheckstyle ends with 2 errors.\"><pre>/var/tmp $ javac Test2.java\n\n/var/tmp $ cat config.xml\n<span class=\"pl-k\"><</span><span class=\"pl-k\">?</span>xml version=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.0<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">?</span><span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span><span class=\"pl-k\">!</span>DOCTYPE module PUBLIC\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-//Checkstyle//DTD Checkstyle Configuration 1.3//EN<span class=\"pl-pds\">\"</span></span>\n        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://checkstyle.org/dtds/configuration_1_3.dtd<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Checker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n    <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TreeWalker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n        <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>SummaryJavadocCheck<span class=\"pl-pds\">\"</span></span>/<span class=\"pl-k\">></span>\n    <span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n\n/var/tmp $ cat Test2.java\n// unexpected violation below\n/<span class=\"pl-k\">**</span>\n <span class=\"pl-k\">*</span> This is the actual summary.\n <span class=\"pl-k\">*</span> {@summary This is wrong usage}\n <span class=\"pl-k\">*</span>/\npublic class Test2 {\n}\n\n// expected violation below\n/<span class=\"pl-k\">**</span>\n <span class=\"pl-k\">*</span> This is summary\n <span class=\"pl-k\">*</span>/\nclass foo {\n}\n\n/var/tmp $ RUN_LOCALE=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-Duser.language=en -Duser.country=US<span class=\"pl-pds\">\"</span></span>\n/var/tmp $ java <span class=\"pl-smi\">$RUN_LOCALE</span> -jar checkstyle-9.2.1-all.jar -c config.xml Test2.java\nStarting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:2: Summary of Javadoc is missing an ending period. [SummaryJavadoc]\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\nCheckstyle ends with 2 errors.</pre></div>\n<hr>\n<p dir=\"auto\"><strong>Describe what you expect in detail.</strong></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Starting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\"><pre class=\"notranslate\"><code>Starting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\n</code></pre></div>\n<p dir=\"auto\">If the first line is present then <code class=\"notranslate\">@summary</code> is ignored, though a warning is given by the Javadoc tool.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"Test.java:4: warning: invalid use of @summary\n     * {@summary This is wrong usage}\"><pre class=\"notranslate\"><code>Test.java:4: warning: invalid use of @summary\n     * {@summary This is wrong usage}\n</code></pre></div>\n<p dir=\"auto\">see all details at <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1083195218\" data-permission-text=\"Title is private\" data-url=\"https://github.com/checkstyle/checkstyle/issues/11051\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/checkstyle/checkstyle/pull/11051/hovercard?comment_id=775167621&comment_type=review_comment\" href=\"https://github.com/checkstyle/checkstyle/pull/11051#discussion_r775167621\">#11051 (comment)</a></p>\n<p dir=\"auto\">Expected: only violation on second javadoc</p>",
  "description_text": "From comment1 and comment2\nI have read check documentation: https://checkstyle.sourceforge.io/config_javadoc.html#SummaryJavadoc\nI have downloaded the latest checkstyle from: https://checkstyle.org/cmdline.html#Download_and_Run\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words\n\n\n\n\n\n\n\n\n/var/tmp $ cat Test2.java\n// unexpected violation below\n/**\n * This is the actual summary.\n * {@summary This is wrong usage}\n */\npublic class Test2 {\n}\n\n// expected violation below\n/**\n * This is summary\n */\nclass foo {\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-9.2.1-all.jar -c config.xml Test2.java\nStarting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:2: Summary of Javadoc is missing an ending period. [SummaryJavadoc]\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\nCheckstyle ends with 2 errors.\">/var/tmp $ javac Test2.java\n\n/var/tmp $ cat config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n    <module name=\"TreeWalker\">\n        <module name=\"SummaryJavadocCheck\"/>\n    </module>\n</module>\n\n/var/tmp $ cat Test2.java\n// unexpected violation below\n/**\n * This is the actual summary.\n * {@summary This is wrong usage}\n */\npublic class Test2 {\n}\n\n// expected violation below\n/**\n * This is summary\n */\nclass foo {\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-9.2.1-all.jar -c config.xml Test2.java\nStarting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:2: Summary of Javadoc is missing an ending period. [SummaryJavadoc]\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\nCheckstyle ends with 2 errors.\n\nDescribe what you expect in detail.\nStarting audit...\n[ERROR] /home/vyom/IdeaProjects/ConfigCheckstyle/src/TestP/Test2.java:10: First sentence of Javadoc is missing an ending period. [SummaryJavadoc]\nAudit done.\n\nIf the first line is present then @summary is ignored, though a warning is given by the Javadoc tool.\nTest.java:4: warning: invalid use of @summary\n     * {@summary This is wrong usage}\n\nsee all details at #11051 (comment)\nExpected: only violation on second javadoc"
}