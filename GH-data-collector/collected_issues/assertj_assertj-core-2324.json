{
  "issue_id": 2319,
  "issue_url": "https://github.com/assertj/assertj/issues/2319",
  "title": "hasMethods does not work on default methods",
  "description": "<h4 dir=\"auto\">Summary</h4>\n<p dir=\"auto\">IMO <code class=\"notranslate\">hasMethod</code> should really follow the same contract as <code class=\"notranslate\">Class.getMethod()</code>, but it doesn't when it comes to default methods inherited from an interface (that are not overridden with an implementation in the class being asserted).</p>\n<p dir=\"auto\">This is because <code class=\"notranslate\">org.assertj.core.internal.Classes.getAllMethods(Class<?>)</code> only looks at parent classes and not any implemented interfaces.</p>\n<h4 dir=\"auto\">Example</h4>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"class DefaultHasMethodTest {\n\n  interface HasDefault {\n    default void method() {}\n  }\n\n  static class Impl implements HasDefault {\n  }\n\n  @Test\n  void testHasMethod() throws Exception {\n    assertThat(Impl.class).hasMethods(\"method\");\n  }\n}\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-smi\">DefaultHasMethodTest</span> {\n\n  <span class=\"pl-k\">interface</span> <span class=\"pl-smi\">HasDefault</span> {\n    <span class=\"pl-k\">default</span> <span class=\"pl-smi\">void</span> <span class=\"pl-en\">method</span>() {}\n  }\n\n  <span class=\"pl-k\">static</span> <span class=\"pl-k\">class</span> <span class=\"pl-smi\">Impl</span> <span class=\"pl-k\">implements</span> <span class=\"pl-smi\">HasDefault</span> {\n  }\n\n  <span class=\"pl-c1\">@</span><span class=\"pl-c1\">Test</span>\n  <span class=\"pl-smi\">void</span> <span class=\"pl-en\">testHasMethod</span>() <span class=\"pl-k\">throws</span> <span class=\"pl-smi\">Exception</span> {\n    <span class=\"pl-en\">assertThat</span>(<span class=\"pl-smi\">Impl</span>.<span class=\"pl-s1\">class</span>).<span class=\"pl-en\">hasMethods</span>(<span class=\"pl-s\">\"method\"</span>);\n  }\n}</pre></div>\n<p dir=\"auto\">This might be related to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"200368017\" data-permission-text=\"Title is private\" data-url=\"https://github.com/assertj/assertj/issues/880\" data-hovercard-type=\"issue\" data-hovercard-url=\"/assertj/assertj/issues/880/hovercard\" href=\"https://github.com/assertj/assertj/issues/880\">#880</a>.</p>",
  "description_text": "Summary\nIMO hasMethod should really follow the same contract as Class.getMethod(), but it doesn't when it comes to default methods inherited from an interface (that are not overridden with an implementation in the class being asserted).\nThis is because org.assertj.core.internal.Classes.getAllMethods(Class) only looks at parent classes and not any implemented interfaces.\nExample\nclass DefaultHasMethodTest {\n\n  interface HasDefault {\n    default void method() {}\n  }\n\n  static class Impl implements HasDefault {\n  }\n\n  @Test\n  void testHasMethod() throws Exception {\n    assertThat(Impl.class).hasMethods(\"method\");\n  }\n}\nThis might be related to #880."
}