{
  "issue_id": 11031,
  "issue_url": "https://github.com/checkstyle/checkstyle/issues/11031",
  "title": "StringLiteralEquality FN about String literal expression",
  "description": "<p dir=\"auto\">I have read check documentation: <a href=\"https://checkstyle.sourceforge.io/config_coding.html#StringLiteralEquality\" rel=\"nofollow\">https://checkstyle.sourceforge.io/config_coding.html#StringLiteralEquality</a><br>\nI have downloaded the latest checkstyle from: <a href=\"https://checkstyle.org/cmdline.html#Download_and_Run\" rel=\"nofollow\">https://checkstyle.org/cmdline.html#Download_and_Run</a><br>\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"/var/tmp $ javac Test.java\n/var/tmp $ cat config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n  <property name=\"severity\" value=\"error\"/>\n  <property name=\"fileExtensions\" value=\"java, properties, xml\"/>\n  <module name=\"TreeWalker\">    \n    <module name=\"StringLiteralEquality\"/>\n  </module>\n</module>\n\n/var/tmp $ cat Test.java\nclass Test {\n    public void foo() {\n        String status = \"pending\";\n        if (status == \"do\" + \"ne\") {} // violation\n    }\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-X.XX-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\"><pre>/var/tmp $ javac Test.java\n/var/tmp $ cat config.xml\n<span class=\"pl-k\"><</span><span class=\"pl-k\">?</span>xml version=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.0<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">?</span><span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span><span class=\"pl-k\">!</span>DOCTYPE module PUBLIC\n          <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-//Checkstyle//DTD Checkstyle Configuration 1.3//EN<span class=\"pl-pds\">\"</span></span>\n          <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://checkstyle.org/dtds/configuration_1_3.dtd<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n\n<span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Checker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>property name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>severity<span class=\"pl-pds\">\"</span></span> value=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>error<span class=\"pl-pds\">\"</span></span>/<span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>property name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>fileExtensions<span class=\"pl-pds\">\"</span></span> value=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>java, properties, xml<span class=\"pl-pds\">\"</span></span>/<span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>TreeWalker<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">></span>    \n    <span class=\"pl-k\"><</span>module name=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>StringLiteralEquality<span class=\"pl-pds\">\"</span></span>/<span class=\"pl-k\">></span>\n  <span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n<span class=\"pl-k\"><</span>/module<span class=\"pl-k\">></span>\n\n/var/tmp $ cat Test.java\nclass Test {\n    public void <span class=\"pl-en\">foo</span>() {\n        String status = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>pending<span class=\"pl-pds\">\"</span></span><span class=\"pl-k\">;</span>\n        <span class=\"pl-k\">if</span> (status == <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>do<span class=\"pl-pds\">\"</span></span> + <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ne<span class=\"pl-pds\">\"</span></span>) {} // violation\n    }\n}\n\n/var/tmp $ RUN_LOCALE=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>-Duser.language=en -Duser.country=US<span class=\"pl-pds\">\"</span></span>\n/var/tmp $ java <span class=\"pl-smi\">$RUN_LOCALE</span> -jar checkstyle-X.XX-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.</pre></div>\n<hr>\n<p dir=\"auto\"><strong>Describe what you expect in detail.</strong></p>\n<hr>\n<p dir=\"auto\">Hi, I found a false negative about the rule StringLiteralEquality. At line 4, it is obvious that right value is string literal, but no violation report. I think this is resulted by string literal expression. Thanks for your consideration.</p>",
  "description_text": "I have read check documentation: https://checkstyle.sourceforge.io/config_coding.html#StringLiteralEquality\nI have downloaded the latest checkstyle from: https://checkstyle.org/cmdline.html#Download_and_Run\nI have executed the cli and showed it below, as cli describes the problem better than 1,000 words\n\n\n\n\n\n\n\n\n\n\n/var/tmp $ cat Test.java\nclass Test {\n    public void foo() {\n        String status = \"pending\";\n        if (status == \"do\" + \"ne\") {} // violation\n    }\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-X.XX-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\">/var/tmp $ javac Test.java\n/var/tmp $ cat config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n  <property name=\"severity\" value=\"error\"/>\n  <property name=\"fileExtensions\" value=\"java, properties, xml\"/>\n  <module name=\"TreeWalker\">    \n    <module name=\"StringLiteralEquality\"/>\n  </module>\n</module>\n\n/var/tmp $ cat Test.java\nclass Test {\n    public void foo() {\n        String status = \"pending\";\n        if (status == \"do\" + \"ne\") {} // violation\n    }\n}\n\n/var/tmp $ RUN_LOCALE=\"-Duser.language=en -Duser.country=US\"\n/var/tmp $ java $RUN_LOCALE -jar checkstyle-X.XX-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\n\nDescribe what you expect in detail.\n\nHi, I found a false negative about the rule StringLiteralEquality. At line 4, it is obvious that right value is string literal, but no violation report. I think this is resulted by string literal expression. Thanks for your consideration."
}