{
  "issue_id": 1341,
  "issue_url": "https://github.com/jhy/jsoup/issues/1341",
  "title": "Unbound prefixes not handled",
  "description": "<p dir=\"auto\">Hello,<br>\nI want to report an issue I am having with jsoup. I have not found a similar issue, so I am creating a new one.</p>\n<p dir=\"auto\">I created a toy example that illustrates the issue:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"<!doctype html>\n<html lang=\"de\">\n    <head>\n\n    </head>\n    <body>\n\t<test:h1>UnboundPrefix</test:h1>\n\t<svg width=\"180\" height=\"180\" xlink:href=\"UnboundPrefix\">\n        \t<rect x=\"20\" y=\"20\" rx=\"20\" ry=\"20\" width=\"100\" height=\"100\" style=\"fill:lightgray; stroke:#1c87c9; stroke-width:4;\"/>\n      \t</svg>\n    </body>\n</html>\"><pre class=\"notranslate\"><code><!doctype html>\n<html lang=\"de\">\n    <head>\n\n    </head>\n    <body>\n\t<test:h1>UnboundPrefix</test:h1>\n\t<svg width=\"180\" height=\"180\" xlink:href=\"UnboundPrefix\">\n        \t<rect x=\"20\" y=\"20\" rx=\"20\" ry=\"20\" width=\"100\" height=\"100\" style=\"fill:lightgray; stroke:#1c87c9; stroke-width:4;\"/>\n      \t</svg>\n    </body>\n</html>\n</code></pre></div>\n<p dir=\"auto\">This webpage contains two unbound prefixes, one in within a tag and one within an attribute. Jsoup does not handle these according to <a href=\"https://html.spec.whatwg.org/#creating-and-inserting-nodes\" rel=\"nofollow\">https://html.spec.whatwg.org/#creating-and-inserting-nodes</a> and <a href=\"https://html.spec.whatwg.org/#coercing-an-html-dom-into-an-infoset\" rel=\"nofollow\">https://html.spec.whatwg.org/#coercing-an-html-dom-into-an-infoset</a>. There it says, the first case (tag) should be handled as follows: <code class=\"notranslate\"><test:h1></code> becomes <code class=\"notranslate\"><testU00003Ah1></code>. The second case is handled by adding the <code class=\"notranslate\">xlink</code> namespace to the html tag.</p>\n<p dir=\"auto\">Without the unbound prefixes being fixed, I have issues using XPath. It would be nice if jsoup handles such cases.</p>\n<p dir=\"auto\">Regards,<br>\nSimon</p>",
  "description_text": "Hello,\nI want to report an issue I am having with jsoup. I have not found a similar issue, so I am creating a new one.\nI created a toy example that illustrates the issue:\n\n\n\n\nUnboundPrefix\n\n\n\n\n\">\n\n    \n\n    \n    \n\tUnboundPrefix\n\t\n        \t\n      \t\n    \n\n\nThis webpage contains two unbound prefixes, one in within a tag and one within an attribute. Jsoup does not handle these according to https://html.spec.whatwg.org/#creating-and-inserting-nodes and https://html.spec.whatwg.org/#coercing-an-html-dom-into-an-infoset. There it says, the first case (tag) should be handled as follows:  becomes . The second case is handled by adding the xlink namespace to the html tag.\nWithout the unbound prefixes being fixed, I have issues using XPath. It would be nice if jsoup handles such cases.\nRegards,\nSimon"
}